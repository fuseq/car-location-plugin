<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Location Plugin - CDN Usage</title>
    
    <!-- 
        CDN'den yÃ¼klemek iÃ§in GitHub Pages veya jsDelivr kullanÄ±n:
        
        GitHub raw (test iÃ§in):
        https://raw.githubusercontent.com/USERNAME/REPO/main/plugins/car-location/frontend/css/styles.css
        
        jsDelivr (production iÃ§in):
        https://cdn.jsdelivr.net/gh/USERNAME/REPO@main/plugins/car-location/frontend/css/styles.css
    -->
    
    <!-- Local development iÃ§in -->
    <link rel="stylesheet" href="../frontend/css/styles.css">
    
    <style>
        /* Opsiyonel: Custom tema override */
        :root {
            /* Primary rengi deÄŸiÅŸtir */
            /* --clp-primary: #8b5cf6; */
            /* --clp-primary-dark: #7c3aed; */
        }
    </style>
</head>
<body class="clp-page">
    
    <h1 style="text-align: center; margin-bottom: 20px; font-family: system-ui;">ðŸš— AracÄ±m Nerede?</h1>
    
    <!-- Plugin Container -->
    <div id="app" class="clp-container"></div>

    <!-- Scripts -->
    <script src="../backend/js/core.js"></script>
    <script src="../frontend/js/ui.js"></script>
    <script src="../plugin.js"></script>
    
    <script>
        (async function() {
            // Plugin'i baÅŸlat
            const plugin = new CarLocationPlugin({
                containerId: 'app',
                dataPath: '../backend/data/parking-spots.json',
                
                // Opsiyonel ayarlar
                dbName: 'MyAppCarLocationDB',  // Ã–zel veritabanÄ± adÄ±
                channelName: 'my_app_clp'       // Ã–zel broadcast kanal adÄ±
            });

            await plugin.init();
            
            // API Ã–rnekleri:
            
            // 1. Navigate callback
            plugin.setNavigateCallback((parking, index) => {
                alert(`Navigasyon: ${parking.floor} - ${parking.parkingSpot}`);
            });
            
            // 2. Programatik seÃ§im
            // plugin.setSelection('B2', 'C', '03');
            
            // 3. Mevcut seÃ§imi al
            // const selection = plugin.getSelection();
            // console.log(selection);
            
            // 4. TÃ¼m kayÄ±tlarÄ± al
            // const parkings = plugin.getParkings();
            // console.log(parkings);
            
            // 5. Manuel kayÄ±t ekle
            // await plugin.addParking({ note: 'Test kayÄ±t' });
            
            // 6. Veri deÄŸiÅŸikliÄŸi callback
            plugin.onDataChange = (parkings) => {
                console.log('Veri gÃ¼ncellendi:', parkings.length, 'kayÄ±t');
            };
            
            console.log('âœ… Plugin hazÄ±r!');
        })();
    </script>
</body>
</html>

